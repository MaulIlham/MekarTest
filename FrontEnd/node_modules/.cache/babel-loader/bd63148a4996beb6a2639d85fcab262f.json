{"ast":null,"code":"import _objectSpread from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{CardHeader,Col,Form,FormGroup,Input,ModalFooter,ModalBody,ModalHeader,Modal,Button,Label}from\"reactstrap\";import{ON_CHANGE,SEARCH_DATA,SAVE_DATA,RESET_FORM,UPDATE_DATA,FETCH_COMPLETE,FETCH_DATA,SET_TOTAL_PAGES}from\"../../reducer/Action\";import{connect}from'react-redux';import{saveCategory,getCategories}from'../../services/CategoriesService';import swal from'sweetalert';var CategoryForm=/*#__PURE__*/function(_Component){_inherits(CategoryForm,_Component);var _super=_createSuper(CategoryForm);function CategoryForm(_props){var _this;_classCallCheck(this,CategoryForm);_this=_super.call(this,_props);_this.AlertComponent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(props){var title,icon,text,alert;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:title=props.title,icon=props.icon,text=props.text;_context.next=3;return swal({title:title,text:text,icon:icon,buttons:false});case 3:alert=_context.sent;return _context.abrupt(\"return\",alert);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleSubmit=function(){var _this$props=_this.props,form=_this$props.form,fetchComplete=_this$props.fetchComplete,setTotalPages=_this$props.setTotalPages,fetchData=_this$props.fetchData,resetForm=_this$props.resetForm;saveCategory(form).then(function(response){fetchData();getCategories(0).then(function(data){_this.toggle();fetchComplete(data.content);setTotalPages(data.totalPages);});});resetForm();};_this.state={modal:false,disabed:false,buttonDisable:false};_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));return _this;}_createClass(CategoryForm,[{key:\"toggle\",value:function toggle(){this.setState({modal:!this.state.modal});}},{key:\"toggleInputText\",value:function toggleInputText(){this.setState({disabled:!this.state.disabled});}},{key:\"cekInput\",value:function cekInput(){var form=this.props.form;if(form.name.lenght===0){this.setState({buttonDisable:!this.state.buttonDisable});}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,form=_this$props2.form,inputChange=_this$props2.inputChange;return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-align-justify\"}),\" Data Category\",/*#__PURE__*/React.createElement(\"div\",{className:\"card-header-actions\"},/*#__PURE__*/React.createElement(Button,{className:\"card-header-action text-dark\",color:\"primary\",onClick:this.toggle},\"New Category\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modal,toggle:this.toggle,className:'modal-success '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggle},/*#__PURE__*/React.createElement(\"strong\",null,\"New Category\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{className:\"form-horizontal\"},/*#__PURE__*/React.createElement(FormGroup,{row:true},/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(Label,{htmlFor:\"room-name-input\"},\"Category Name\")),/*#__PURE__*/React.createElement(Col,{xs:\"12\",md:\"8\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"category-name-input\",name:\"category-name-input\",placeholder:\"Enter Category Name\",value:form.name,onChange:function onChange(e){return inputChange('name',e.target.value);}}))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"primary\",onClick:function onClick(){return _this2.handleSubmit();},disabled:this.state.buttonDisable},\"Save\"),' ',/*#__PURE__*/React.createElement(Button,{color:\"secondary\",onClick:this.toggle},\"Cancel\"))));}}]);return CategoryForm;}(Component);function mapStateToProps(state){return _objectSpread({},state);}function mapDispatcherToProps(dispatch){return{saveData:function saveData(payload){return dispatch({type:SAVE_DATA,payload:payload});},updateData:function updateData(payload){return dispatch({type:UPDATE_DATA,payload:payload});},inputChange:function inputChange(inputName,inputValue){return dispatch({type:ON_CHANGE,payload:{inputName:inputName,inputValue:inputValue}});},resetForm:function resetForm(){return dispatch({type:RESET_FORM});},fetchComplete:function fetchComplete(payload){return dispatch({type:FETCH_COMPLETE,payload:payload});},setTotalPages:function setTotalPages(payload){return dispatch({type:SET_TOTAL_PAGES,payload:payload});},fetchData:function fetchData(){return dispatch({type:FETCH_DATA});}};}export default connect(mapStateToProps,mapDispatcherToProps)(CategoryForm);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/categories/CategoryForm.js"],"names":["React","Component","CardHeader","Col","Form","FormGroup","Input","ModalFooter","ModalBody","ModalHeader","Modal","Button","Label","ON_CHANGE","SEARCH_DATA","SAVE_DATA","RESET_FORM","UPDATE_DATA","FETCH_COMPLETE","FETCH_DATA","SET_TOTAL_PAGES","connect","saveCategory","getCategories","swal","CategoryForm","props","AlertComponent","title","icon","text","buttons","alert","handleSubmit","form","fetchComplete","setTotalPages","fetchData","resetForm","then","response","data","toggle","content","totalPages","state","modal","disabed","buttonDisable","bind","setState","disabled","name","lenght","inputChange","className","e","target","value","mapStateToProps","mapDispatcherToProps","dispatch","saveData","payload","type","updateData","inputName","inputValue"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  CardHeader,\n  Col,\n  Form,\n  FormGroup,\n  Input,\n  ModalFooter,\n  ModalBody,\n  ModalHeader,\n  Modal,\n  Button, Label,\n} from \"reactstrap\";\nimport { ON_CHANGE, SEARCH_DATA, SAVE_DATA, RESET_FORM, UPDATE_DATA, FETCH_COMPLETE, FETCH_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport { saveCategory, getCategories } from '../../services/CategoriesService';\nimport swal from 'sweetalert'\n\nclass CategoryForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n      disabed: false,\n      buttonDisable: false,\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  toggleInputText() {\n    this.setState({ disabled: !this.state.disabled })\n  }\n\n\n  AlertComponent = async (props) => {\n    const { title, icon, text } = props\n    const alert = await swal({\n      title: title,\n      text: text,\n      icon: icon,\n      buttons: false,\n    })\n    return alert\n  }\n\n  cekInput() {\n    const { form } = this.props;\n    if (form.name.lenght === 0) {\n      this.setState({ buttonDisable: !this.state.buttonDisable })\n    }\n  }\n\n  handleSubmit = () => {\n    const { form, fetchComplete, setTotalPages, fetchData, resetForm } = this.props\n    saveCategory(form)\n      .then(response => {\n        fetchData()\n        getCategories(0)\n          .then(data => {\n            this.toggle()\n            fetchComplete(data.content)\n            setTotalPages(data.totalPages)\n          })\n      });\n    resetForm();\n  }\n\n  render() {\n    const { form, inputChange } = this.props;\n\n    return (\n      <div className=\"animated fadeIn\">\n        <CardHeader>\n          <i className=\"fa fa-align-justify\"></i> Data Category\n          <div className=\"card-header-actions\">\n            <Button className=\"card-header-action text-dark\" color=\"primary\" onClick={this.toggle}>New Category</Button>\n          </div>\n        </CardHeader>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={'modal-success ' + this.props.className}>\n          <ModalHeader toggle={this.toggle}><strong>New Category</strong></ModalHeader>\n          <ModalBody>\n            <Form className=\"form-horizontal\">\n              <FormGroup row>\n                <Col md=\"4\">\n                  <Label htmlFor=\"room-name-input\">Category Name</Label>\n                </Col>\n                <Col xs=\"12\" md=\"8\">\n                  <Input type=\"text\"\n                    id=\"category-name-input\" name=\"category-name-input\"\n                    placeholder=\"Enter Category Name\" value={form.name}\n                    onChange={(e) => inputChange('name', e.target.value)}\n                  />\n                </Col>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button type=\"submit\" color=\"primary\" onClick={() => this.handleSubmit()} disabled={this.state.buttonDisable}>Save</Button>{' '}\n            {/* <Button color=\"primary\" onClick={() => this.toggleInputText()}>Edit</Button>{' '} */}\n            <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { ...state };\n}\n\nfunction mapDispatcherToProps(dispatch) {\n  return {\n    saveData: (payload) => dispatch({ type: SAVE_DATA, payload }),\n    updateData: (payload) => dispatch({ type: UPDATE_DATA, payload }),\n    inputChange: (inputName, inputValue) => dispatch({ type: ON_CHANGE, payload: { inputName, inputValue } }),\n    resetForm: () => dispatch({ type: RESET_FORM }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    setTotalPages: (payload) => dispatch({ type: SET_TOTAL_PAGES, payload }),\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatcherToProps)(CategoryForm);\n"]},"metadata":{},"sourceType":"module"}