{"ast":null,"code":"import _objectSpread from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Spinner,CardBody,CardHeader,Table,ModalHeader,ModalBody,ModalFooter,Modal}from'reactstrap';import{DETAIL_DATA,FETCH_DATA,FETCH_COMPLETE,DELETE_DATA,SET_TOTAL_PAGES}from\"../../reducer/Action\";import{connect}from'react-redux';import ModalWallet from\"../../component/ModalWallet\";import{getAllWalletHistory,deleteDataWalletHistory}from'../../services/WalletsService';import PageComponent from'../../component/PageComponent';var WalletHistoryTable=/*#__PURE__*/function(_Component){_inherits(WalletHistoryTable,_Component);var _super=_createSuper(WalletHistoryTable);function WalletHistoryTable(props){var _this;_classCallCheck(this,WalletHistoryTable);_this=_super.call(this,props);_this.getData=function(page){var _this$props=_this.props,fetchData=_this$props.fetchData,fetchComplete=_this$props.fetchComplete,setTotalPages=_this$props.setTotalPages;fetchData();getAllWalletHistory(page).then(function(response){setTotalPages(response.data.totalPages);fetchComplete(response.data.content);}).catch(function(err){console.log(err);});};_this.handleDetail=function(historyId){var detailData=_this.props.detailData;_this.toggleModal();detailData(historyId);};_this.handleDelete=function(historyId){var deleteData=_this.props.deleteData;deleteDataWalletHistory(historyId).then(function(response){console.log(response);deleteData(historyId);});};_this.generateTableRows=function(){var _this$props2=_this.props,walletHistories=_this$props2.walletHistories,isLoading=_this$props2.isLoading;var rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"em\",null,\"Data Still Empty\"))));if(walletHistories.length>0){rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(Spinner,{color:\"danger\"})));if(!isLoading){rows=walletHistories.map(function(history,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},index+1),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},history.wallet.owner.username),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},history.amount),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},history.txrDate),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},history.type),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:function onClick(){return _this.handleDelete(history.id);}},\"Delete\")));});};}return rows;};_this.state={modal:false};return _this;}_createClass(WalletHistoryTable,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData(0);}},{key:\"render\",value:function render(){var _this$props3=this.props,form=_this$props3.form,totalPages=_this$props3.totalPages;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-align-justify\"}),\" Data Wallet Histories\"),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Table,{hover:true,bordered:true,striped:true,responsive:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"No.\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Name\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Amount\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Date Transaction\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Type Transaction\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\",colSpan:\"2\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.generateTableRows())),/*#__PURE__*/React.createElement(PageComponent,{totalPages:totalPages,getData:this.getData})),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modal,toggle:this.toggleModal,className:'modal-info'+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModal},/*#__PURE__*/React.createElement(\"strong\",null,\"Detail Wallet History\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(ModalWallet,{form:form})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"secondary\",onClick:this.toggleModal},\"Cancel\"))));}}]);return WalletHistoryTable;}(Component);function mapStateToProps(state){return _objectSpread({},state);}function mapDispatchToProps(dispatch){return{detailData:function detailData(payload){return dispatch({type:DETAIL_DATA,payload:payload});},deleteData:function deleteData(payload){return dispatch({type:DELETE_DATA,payload:payload});},fetchData:function fetchData(){return dispatch({type:FETCH_DATA});},fetchComplete:function fetchComplete(payload){return dispatch({type:FETCH_COMPLETE,payload:payload});},setTotalPages:function setTotalPages(payload){return dispatch({type:SET_TOTAL_PAGES,payload:payload});}};}export default connect(mapStateToProps,mapDispatchToProps)(WalletHistoryTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/wallets/WalletHistoryTable.js"],"names":["React","Component","Button","Spinner","CardBody","CardHeader","Table","ModalHeader","ModalBody","ModalFooter","Modal","DETAIL_DATA","FETCH_DATA","FETCH_COMPLETE","DELETE_DATA","SET_TOTAL_PAGES","connect","ModalWallet","getAllWalletHistory","deleteDataWalletHistory","PageComponent","WalletHistoryTable","props","getData","page","fetchData","fetchComplete","setTotalPages","then","response","data","totalPages","content","catch","err","console","log","handleDetail","historyId","detailData","toggleModal","handleDelete","deleteData","generateTableRows","walletHistories","isLoading","rows","length","map","history","index","wallet","owner","username","amount","txrDate","type","id","state","modal","form","className","mapStateToProps","mapDispatchToProps","dispatch","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  Spinner,\n  CardBody,\n  CardHeader,\n  Table,\n  ModalHeader, ModalBody, ModalFooter, Modal\n} from 'reactstrap';\nimport { DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE, DELETE_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport ModalWallet from \"../../component/ModalWallet\";\nimport { getAllWalletHistory, deleteDataWalletHistory } from '../../services/WalletsService';\nimport PageComponent from '../../component/PageComponent';\n\n\nclass WalletHistoryTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getData(0);\n  }\n\n  getData = (page) => {\n    const { fetchData, fetchComplete, setTotalPages } = this.props;\n    fetchData();\n    getAllWalletHistory(page).then((response) => {\n      setTotalPages(response.data.totalPages)\n      fetchComplete(response.data.content)\n    })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  handleDetail = (historyId) => {\n    const { detailData } = this.props;\n    this.toggleModal();\n    detailData(historyId);\n  }\n\n  handleDelete = (historyId) => {\n    const { deleteData } = this.props;\n    deleteDataWalletHistory(historyId).then((response) => {\n      console.log(response);\n      deleteData(historyId);\n    })\n  }\n\n  generateTableRows = () => {\n    const { walletHistories, isLoading } = this.props;\n\n    let rows = (\n      <tr>\n        <td colSpan=\"6\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n      </tr>\n    );\n\n    if (walletHistories.length > 0) {\n      rows = <tr><td colSpan=\"6\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n      if (!isLoading) {\n        rows = walletHistories.map((history, index) => {\n          return (\n            <tr key={index}>\n              <td className=\"text-center\">{index + 1}</td>\n              <td className=\"text-center\">{history.wallet.owner.username}</td>\n              <td className=\"text-center\">{history.amount}</td>\n              <td className=\"text-center\">{history.txrDate}</td>\n              <td className=\"text-center\">{history.type}</td>\n              <td className=\"text-center\"><Button color=\"danger\" onClick={() => this.handleDelete(history.id)}>Delete</Button></td>\n            </tr>\n          )\n        });\n      };\n    }\n    return rows;\n  }\n\n  render() {\n    const { form, totalPages } = this.props;\n\n    return (\n      <div>\n        <CardHeader>\n          <i className=\"fa fa-align-justify\"></i> Data Wallet Histories\n        </CardHeader>\n        <CardBody>\n          <Table hover bordered striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th className=\"text-center\">No.</th>\n                <th className=\"text-center\">Name</th>\n                <th className=\"text-center\">Amount</th>\n                <th className=\"text-center\">Date Transaction</th>\n                <th className=\"text-center\">Type Transaction</th>\n                <th className=\"text-center\" colSpan=\"2\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTableRows()}\n            </tbody>\n          </Table>\n          <PageComponent totalPages={totalPages} getData={this.getData} />\n        </CardBody>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggleModal} className={'modal-info' + this.props.className}>\n          <ModalHeader toggle={this.toggleModal}><strong>Detail Wallet History</strong></ModalHeader>\n          <ModalBody>\n            <ModalWallet form={form} />\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModal}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n\n}\n\n\n\nfunction mapStateToProps(state) {\n  return { ...state }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    detailData: (payload) => dispatch({ type: DETAIL_DATA, payload }),\n    deleteData: (payload) => dispatch({ type: DELETE_DATA, payload }),\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    setTotalPages: (payload) => dispatch({ type: SET_TOTAL_PAGES, payload }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletHistoryTable);\n"]},"metadata":{},"sourceType":"module"}