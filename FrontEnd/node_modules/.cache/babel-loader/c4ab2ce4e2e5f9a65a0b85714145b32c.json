{"ast":null,"code":"import _objectSpread from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Spinner,CardBody,CardHeader,Pagination,PaginationItem,PaginationLink,Table,ModalHeader,ModalBody,ModalFooter,Modal}from'reactstrap';import{connect}from'react-redux';import{getAllDataRoomHistory}from'../../services/RoomHistoryService';import{DETAIL_DATA,FETCH_DATA,FETCH_COMPLETE}from\"../../reducer/Action\";var DashboardTable=/*#__PURE__*/function(_Component){_inherits(DashboardTable,_Component);var _super=_createSuper(DashboardTable);function DashboardTable(props){var _this;_classCallCheck(this,DashboardTable);_this=_super.call(this,props);_this.getData=function(){var _this$props=_this.props,fetchData=_this$props.fetchData,fetchComplete=_this$props.fetchComplete;fetchData();getAllDataRoomHistory().then(function(response){fetchComplete(response.data.content);}).catch(function(err){console.log(err);});};_this.generateTableRows=function(){var _this$props2=_this.props,histories=_this$props2.histories,isLoading=_this$props2.isLoading;var data=histories.sort(function(a,b){return b.bidAmount-a.bidAmount;});var rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"em\",null,\"Data Still Empty\"))));if(histories.length>0){rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(Spinner,{color:\"danger\"})));if(!isLoading){rows=data.map(function(history,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,history.bidder.username),/*#__PURE__*/React.createElement(\"td\",null,history.room.name),/*#__PURE__*/React.createElement(\"td\",null,history.room.item.title),/*#__PURE__*/React.createElement(\"td\",null,history.bidAmount),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{color:\"secondary\",onClick:function onClick(){return _this.handleDetail(history.id);}},\"Detail\")));});};}return rows;};_this.state={modal:false};return _this;}_createClass(DashboardTable,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"render\",value:function render(){var _this$props3=this.props,form=_this$props3.form,totalPages=_this$props3.totalPages;return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-align-justify\"}),\" Data Item\"),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Table,{hover:true,bordered:true,striped:true,responsive:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"No.\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"User\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Room Name\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Item Name\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Bid Amount\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.generateTableRows()))));}}]);return DashboardTable;}(Component);function mapStateToProps(state){return _objectSpread({},state);}function mapDispatchToProps(dispatch){return{fetchData:function fetchData(){return dispatch({type:FETCH_DATA});},fetchComplete:function fetchComplete(payload){return dispatch({type:FETCH_COMPLETE,payload:payload});}};}export default connect(mapStateToProps,mapDispatchToProps)(DashboardTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/dashboard/DashboardTable.js"],"names":["React","Component","Button","Spinner","CardBody","CardHeader","Pagination","PaginationItem","PaginationLink","Table","ModalHeader","ModalBody","ModalFooter","Modal","connect","getAllDataRoomHistory","DETAIL_DATA","FETCH_DATA","FETCH_COMPLETE","DashboardTable","props","getData","fetchData","fetchComplete","then","response","data","content","catch","err","console","log","generateTableRows","histories","isLoading","sort","a","b","bidAmount","rows","length","map","history","index","bidder","username","room","name","item","title","handleDetail","id","state","modal","form","totalPages","mapStateToProps","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    Button,\n    Spinner,\n    CardBody,\n    CardHeader,\n    Pagination,\n    PaginationItem,\n    PaginationLink,\n    Table,\n    ModalHeader, ModalBody, ModalFooter, Modal\n} from 'reactstrap';\nimport { connect } from 'react-redux'\nimport { getAllDataRoomHistory } from '../../services/RoomHistoryService'\nimport { DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE } from \"../../reducer/Action\";\n\n\nclass DashboardTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            modal: false,\n        }\n    }\n\n    componentDidMount() {\n        this.getData();\n    }\n\n    getData = () => {\n        const { fetchData, fetchComplete } = this.props;\n        fetchData();\n        getAllDataRoomHistory().then((response) => {\n            fetchComplete(response.data.content);\n        })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n    generateTableRows = () => {\n        const { histories, isLoading } = this.props;\n\n        const data = histories.sort((a, b) => b.bidAmount - a.bidAmount)\n        let rows = (\n            <tr>\n                <td colSpan=\"6\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n            </tr>\n        );\n\n        if (histories.length > 0) {\n            rows = <tr><td colSpan=\"6\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n            if (!isLoading) {\n                rows = data.map((history, index) => {\n                    return (\n                        <tr key={index}>\n                            <td>{index + 1}</td>\n                            <td>{history.bidder.username}</td>\n                            <td>{history.room.name}</td>\n                            <td>{history.room.item.title}</td>\n                            <td>{history.bidAmount}</td>\n                            <td><Button color=\"secondary\" onClick={() => this.handleDetail(history.id)}>Detail</Button></td>\n                        </tr>\n                    )\n                });\n            };\n        }\n        return rows;\n    }\n\n    render() {\n        const { form, totalPages } = this.props;\n        return (\n            <div className=\"animated fadeIn\">\n                <CardHeader>\n                    <i className=\"fa fa-align-justify\"></i> Data Item\n        </CardHeader>\n                <CardBody>\n                    <Table hover bordered striped responsive size=\"sm\">\n                        <thead>\n                            <tr>\n                                <th className=\"text-center\">No.</th>\n                                <th className=\"text-center\">User</th>\n                                <th className=\"text-center\">Room Name</th>\n                                <th className=\"text-center\">Item Name</th>\n                                <th className=\"text-center\">Bid Amount</th>\n                                <th className=\"text-center\">Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.generateTableRows()}\n                        </tbody>\n                    </Table>\n                </CardBody>\n\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return { ...state };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        fetchData: () => dispatch({ type: FETCH_DATA }),\n        fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardTable);\n"]},"metadata":{},"sourceType":"module"}