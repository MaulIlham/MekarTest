{"ast":null,"code":"import _objectSpread from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Spinner,CardBody,CardHeader,Pagination,PaginationItem,PaginationLink,Table,ModalHeader,ModalBody,ModalFooter,Modal}from'reactstrap';import{DETAIL_DATA,FETCH_DATA,FETCH_COMPLETE,DELETE_DATA,SET_TOTAL_PAGES}from\"../../reducer/Action\";import{connect}from'react-redux';import ModalItem from\"../../component/ModalItem\";import{getAllItem,deleteDataItem}from'../../services/ItemsService';import PageComponent from'../../component/PageComponent';var ItemTable=/*#__PURE__*/function(_Component){_inherits(ItemTable,_Component);var _super=_createSuper(ItemTable);function ItemTable(props){var _this;_classCallCheck(this,ItemTable);_this=_super.call(this,props);_this.getData=function(){var _this$props=_this.props,fetchData=_this$props.fetchData,fetchComplete=_this$props.fetchComplete,setTotalPages=_this$props.setTotalPages;fetchData();getAllItem().then(function(response){console.log(response);setTotalPages(response.totalPages);fetchComplete(response.content);}).catch(function(err){console.log(err);});};_this.handleDetail=function(itemId){var detailData=_this.props.detailData;_this.toggleModal();detailData(itemId);};_this.handleDelete=function(itemId){var deleteData=_this.props.deleteData;deleteDataItem(itemId).then(function(response){deleteData(itemId);});};_this.toggleModal=function(){_this.setState({modal:!_this.state.modal});};_this.generateTableRows=function(){var _this$props2=_this.props,items=_this$props2.items,isLoading=_this$props2.isLoading;var rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"em\",null,\"Data Still Empty\"))));if(items.length>0){rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(Spinner,{color:\"danger\"})));if(!isLoading){rows=items.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},index+1),/*#__PURE__*/React.createElement(\"td\",null,item.title),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},item.startBid),/*#__PURE__*/React.createElement(\"td\",null,item.description),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},item.status),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{color:\"secondary\",onClick:function onClick(){return _this.handleDetail(item.id);}},\"Detail\"),/*#__PURE__*/React.createElement(Button,{className:\"float-right\",color:\"danger\",onClick:function onClick(){return _this.handleDelete(item.id);}},\"Delete\")));});};}return rows;};_this.state={modal:false};return _this;}_createClass(ItemTable,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"render\",value:function render(){var _this$props3=this.props,form=_this$props3.form,totalPages=_this$props3.totalPages;return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-align-justify\"}),\" Data Item\"),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Table,{hover:true,bordered:true,striped:true,responsive:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"No.\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Name item\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Start Bid\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Description\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Status\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\",colSpan:\"2\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.generateTableRows())),/*#__PURE__*/React.createElement(PageComponent,{totalPages:totalPages,getData:this.getData})),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modal,toggle:this.toggleModal,className:'modal-success '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModal},/*#__PURE__*/React.createElement(\"strong\",null,\"Detail Item\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(ModalItem,{form:form})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"secondary\",onClick:this.toggleModal},\"Cancel\"))));}}]);return ItemTable;}(Component);function mapStateToProps(state){return _objectSpread({},state);}function mapDispatchToProps(dispatch){return{detailData:function detailData(payload){return dispatch({type:DETAIL_DATA,payload:payload});},deleteData:function deleteData(payload){return dispatch({type:DELETE_DATA,payload:payload});},fetchData:function fetchData(){return dispatch({type:FETCH_DATA});},fetchComplete:function fetchComplete(payload){return dispatch({type:FETCH_COMPLETE,payload:payload});},setTotalPages:function setTotalPages(payload){return dispatch({type:SET_TOTAL_PAGES,payload:payload});}};}export default connect(mapStateToProps,mapDispatchToProps)(ItemTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/items/ItemTable.js"],"names":["React","Component","Button","Spinner","CardBody","CardHeader","Pagination","PaginationItem","PaginationLink","Table","ModalHeader","ModalBody","ModalFooter","Modal","DETAIL_DATA","FETCH_DATA","FETCH_COMPLETE","DELETE_DATA","SET_TOTAL_PAGES","connect","ModalItem","getAllItem","deleteDataItem","PageComponent","ItemTable","props","getData","fetchData","fetchComplete","setTotalPages","then","response","console","log","totalPages","content","catch","err","handleDetail","itemId","detailData","toggleModal","handleDelete","deleteData","setState","modal","state","generateTableRows","items","isLoading","rows","length","map","item","index","title","startBid","description","status","id","form","className","mapStateToProps","mapDispatchToProps","dispatch","payload","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  Spinner,\n  CardBody,\n  CardHeader,\n  Pagination,\n  PaginationItem,\n  PaginationLink,\n  Table,\n  ModalHeader, ModalBody, ModalFooter, Modal\n} from 'reactstrap';\nimport { DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE, DELETE_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport ModalItem from \"../../component/ModalItem\";\nimport { getAllItem, deleteDataItem } from '../../services/ItemsService'\nimport PageComponent from '../../component/PageComponent';\n\nclass ItemTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData = () => {\n    const { fetchData, fetchComplete, setTotalPages } = this.props;\n    fetchData();\n    getAllItem().then((response) => {\n      console.log(response);\n      setTotalPages(response.totalPages)\n      fetchComplete(response.content);\n    })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  handleDetail = (itemId) => {\n    const { detailData } = this.props;\n    this.toggleModal();\n    detailData(itemId);\n  }\n\n  handleDelete = (itemId) => {\n    const { deleteData } = this.props;\n    deleteDataItem(itemId).then((response) => {\n      deleteData(itemId);\n    })\n  }\n\n  toggleModal = () => {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  generateTableRows = () => {\n    const { items, isLoading } = this.props;\n\n    let rows = (\n      <tr>\n        <td colSpan=\"6\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n      </tr>\n    );\n\n    if (items.length > 0) {\n      rows = <tr><td colSpan=\"6\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n      if (!isLoading) {\n        rows = items.map((item, index) => {\n          return (\n            <tr key={index}>\n              <td className=\"text-center\">{index + 1}</td>\n              <td>{item.title}</td>\n              <td className=\"text-center\">{item.startBid}</td>\n              <td>{item.description}</td>\n              <td className=\"text-center\">{item.status}</td>\n              <td className=\"text-center\"><Button color=\"secondary\" onClick={() => this.handleDetail(item.id)}>Detail</Button>\n                <Button className=\"float-right\" color=\"danger\" onClick={() => this.handleDelete(item.id)}>Delete</Button>\n              </td>\n            </tr>\n          )\n        });\n      };\n    }\n    return rows;\n  }\n\n  render() {\n    const { form, totalPages } = this.props;\n    return (\n      <div className=\"animated fadeIn\">\n        <CardHeader>\n          <i className=\"fa fa-align-justify\"></i> Data Item\n        </CardHeader>\n        <CardBody>\n          <Table hover bordered striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th className=\"text-center\">No.</th>\n                <th className=\"text-center\">Name item</th>\n                <th className=\"text-center\">Start Bid</th>\n                <th className=\"text-center\">Description</th>\n                <th className=\"text-center\">Status</th>\n                <th className=\"text-center\" colSpan=\"2\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTableRows()}\n            </tbody>\n          </Table>\n          <PageComponent totalPages={totalPages} getData={this.getData} />\n        </CardBody>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggleModal} className={'modal-success ' + this.props.className}>\n          <ModalHeader toggle={this.toggleModal} ><strong>Detail Item</strong></ModalHeader>\n          <ModalBody>\n            <ModalItem form={form} />\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModal}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { ...state };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    detailData: (payload) => dispatch({ type: DETAIL_DATA, payload }),\n    deleteData: (payload) => dispatch({ type: DELETE_DATA, payload }),\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    setTotalPages: (payload) => dispatch({ type: SET_TOTAL_PAGES, payload }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemTable);\n"]},"metadata":{},"sourceType":"module"}