{"ast":null,"code":"import _objectSpread from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/users/UserTable.js\";\nimport React, { Component } from 'react';\nimport { Button, Spinner, CardBody, CardHeader, Table, ModalHeader, ModalBody, ModalFooter, Modal, Col, Label, Input, FormGroup } from 'reactstrap';\nimport { FETCH_DATA, FETCH_COMPLETE, SAVE_DATA, DETAIL_DATA, DELETE_DATA } from \"../../reducer/Action\";\nimport { connect } from 'react-redux';\nimport { getUsers, deleteUserById } from '../../services/UsersService';\nimport ModalUser from '../../component/ModalUser';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\n\nvar UserTable = /*#__PURE__*/function (_Component) {\n  _inherits(UserTable, _Component);\n\n  var _super = _createSuper(UserTable);\n\n  function UserTable(props) {\n    var _this;\n\n    _classCallCheck(this, UserTable);\n\n    _this = _super.call(this, props);\n\n    _this.getData = function () {\n      var _this$props = _this.props,\n          fetchData = _this$props.fetchData,\n          fetchComplete = _this$props.fetchComplete;\n      fetchData();\n      getUsers().then(function (response) {\n        _this.setState({\n          tempUsers: response.data\n        });\n\n        fetchComplete(response.data);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.handleDetail = function (itemId) {\n      var detailData = _this.props.detailData;\n      detailData(itemId);\n\n      _this.toggleModal();\n    };\n\n    _this.handleDelete = function (itemId) {\n      deleteUserById(itemId).then(function (response) {\n        if (response.message === \"Success\") {\n          alert(\"Delete Success\");\n\n          _this.getData();\n        } else {\n          alert(\"Delete failed!\");\n        }\n      });\n    };\n\n    _this.toggleModal = function () {\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.generateTableRows = function () {\n      var _this$props2 = _this.props,\n          users = _this$props2.users,\n          isLoading = _this$props2.isLoading;\n      var newArr = _this.state.msearch && _this.state.msearch.length > 0 ? _this.state.tempUsers.filter(function (user) {\n        if (user.name.toLowerCase().includes(_this.state.msearch.toLowerCase())) return user;else return false;\n      }) : users;\n      ;\n      var rows = /*#__PURE__*/React.createElement(\"tr\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"7\",\n        className: \"table-warning text-center\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 63\n        }\n      }, /*#__PURE__*/React.createElement(\"em\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 71\n        }\n      }, \"Data Still Empty\"))));\n\n      if (newArr.length > 0) {\n        rows = /*#__PURE__*/React.createElement(\"tr\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          colSpan: \"6\",\n          className: \"table-warning text-center\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 18\n          }\n        }, /*#__PURE__*/React.createElement(Spinner, {\n          color: \"danger\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 72\n          }\n        })));\n\n        if (!isLoading) {\n          rows = newArr.map(function (user, index) {\n            return /*#__PURE__*/React.createElement(\"tr\", {\n              key: index,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 13\n              }\n            }, /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 15\n              }\n            }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 15\n              }\n            }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 15\n              }\n            }, user.birth_date), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 15\n              }\n            }, user.identity_number), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 15\n              }\n            }, user.profession), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 15\n              }\n            }, user.education), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(Link, {\n              to: {\n                pathname: \"/userdetail\",\n                id: user.id\n              },\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(Button, {\n              size: \"sm\",\n              color: \"secondary\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 69\n              }\n            }, \"Detail\"))), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(Button, {\n              size: \"sm\",\n              color: \"danger\",\n              onClick: function onClick() {\n                return _this.handleDelete(user.id);\n              },\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 43\n              }\n            }, \"Delete\")));\n          });\n        }\n\n        ;\n      }\n\n      return rows;\n    };\n\n    _this.state = {\n      modal: false,\n      number: 0,\n      msearch: '',\n      tempUsers: []\n    };\n    return _this;\n  }\n\n  _createClass(UserTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _React$createElement;\n\n      var saveData = this.props.saveData;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-people\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }), \" Data User\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header-actions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.toggleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }, \"Add User\"))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"12\",\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        className: \"text-center\",\n        type: \"text\",\n        id: \"search-input\",\n        name: \"search-input\",\n        value: this.state.seacrh,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            msearch: e.target.value\n          });\n        },\n        placeholder: \"Search Data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(Table, {\n        hover: true,\n        bordered: true,\n        striped: true,\n        responsive: true,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, \"No.\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, \"Birth Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }\n      }, \"Identity Number\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, \"Profession\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, \"Education\"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement = {\n        className: \"text-center\",\n        colSpan: \"2\"\n      }, _defineProperty(_React$createElement, \"className\", \"text-center\"), _defineProperty(_React$createElement, \"__self\", this), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }), _React$createElement), \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }, this.generateTableRows()))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggleModal,\n        className: 'modal-info' + this.props.className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ModalUser, {\n        toggleModal: this.toggleModal,\n        saveData: saveData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(ModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return UserTable;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return _objectSpread({}, state);\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchData: function fetchData() {\n      return dispatch({\n        type: FETCH_DATA\n      });\n    },\n    fetchComplete: function fetchComplete(payload) {\n      return dispatch({\n        type: FETCH_COMPLETE,\n        payload: payload\n      });\n    },\n    saveData: function saveData(payload) {\n      return dispatch({\n        type: SAVE_DATA,\n        payload: payload\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/users/UserTable.js"],"names":["React","Component","Button","Spinner","CardBody","CardHeader","Table","ModalHeader","ModalBody","ModalFooter","Modal","Col","Label","Input","FormGroup","FETCH_DATA","FETCH_COMPLETE","SAVE_DATA","DETAIL_DATA","DELETE_DATA","connect","getUsers","deleteUserById","ModalUser","BrowserRouter","Router","Route","Link","Redirect","UserTable","props","getData","fetchData","fetchComplete","then","response","setState","tempUsers","data","catch","err","console","log","handleDetail","itemId","detailData","toggleModal","handleDelete","message","alert","modal","state","generateTableRows","users","isLoading","newArr","msearch","length","filter","user","name","toLowerCase","includes","rows","map","index","birth_date","identity_number","profession","education","pathname","id","number","saveData","seacrh","e","target","value","className","mapStateToProps","mapDispatchToProps","dispatch","type","payload"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,MADF,EAEEC,OAFF,EAGEC,QAHF,EAIEC,UAJF,EAKEC,KALF,EAMEC,WANF,EAMeC,SANf,EAM0BC,WAN1B,EAMuCC,KANvC,EAM8CC,GAN9C,EAMmDC,KANnD,EAM0DC,KAN1D,EAMiEC,SANjE,QAOO,YAPP;AAQA,SAAQC,UAAR,EAAoBC,cAApB,EAAoCC,SAApC,EAA+CC,WAA/C,EAA4DC,WAA5D,QAA8E,sBAA9E;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,6BAAzC;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,IAAzC,EAA+CC,QAA/C,QAA+D,kBAA/D;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAcnBC,OAdmB,GAcT,YAAM;AAAA,wBACsB,MAAKD,KAD3B;AAAA,UACNE,SADM,eACNA,SADM;AAAA,UACKC,aADL,eACKA,aADL;AAEdD,MAAAA,SAAS;AACTX,MAAAA,QAAQ,GACLa,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,cAAKC,QAAL,CAAc;AAACC,UAAAA,SAAS,EAAGF,QAAQ,CAACG;AAAtB,SAAd;;AACAL,QAAAA,aAAa,CAACE,QAAQ,CAACG,IAAV,CAAb;AACD,OAJH,EAKGC,KALH,CAKS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAPH;AAQD,KAzBkB;;AAAA,UA2BnBG,YA3BmB,GA2BJ,UAACC,MAAD,EAAY;AAAA,UACjBC,UADiB,GACF,MAAKf,KADH,CACjBe,UADiB;AAEzBA,MAAAA,UAAU,CAACD,MAAD,CAAV;;AACA,YAAKE,WAAL;AACD,KA/BkB;;AAAA,UAiCnBC,YAjCmB,GAiCJ,UAACH,MAAD,EAAY;AACzBtB,MAAAA,cAAc,CAACsB,MAAD,CAAd,CAAuBV,IAAvB,CAA4B,UAAAC,QAAQ,EAAI;AACtC,YAAIA,QAAQ,CAACa,OAAT,KAAqB,SAAzB,EAAoC;AAClCC,UAAAA,KAAK,CAAC,gBAAD,CAAL;;AACA,gBAAKlB,OAAL;AACD,SAHD,MAGM;AACJkB,UAAAA,KAAK,CAAC,gBAAD,CAAL;AACD;AACF,OAPD;AAQD,KA1CkB;;AAAA,UA4CnBH,WA5CmB,GA4CL,YAAM;AAClB,YAAKV,QAAL,CAAc;AAAEc,QAAAA,KAAK,EAAE,CAAC,MAAKC,KAAL,CAAWD;AAArB,OAAd;AACD,KA9CkB;;AAAA,UAgDnBE,iBAhDmB,GAgDC,YAAM;AAAA,yBACK,MAAKtB,KADV;AAAA,UAChBuB,KADgB,gBAChBA,KADgB;AAAA,UACTC,SADS,gBACTA,SADS;AAExB,UAAIC,MAAM,GAAE,MAAKJ,KAAL,CAAWK,OAAX,IAAqB,MAAKL,KAAL,CAAWK,OAAX,CAAmBC,MAAnB,GAA0B,CAA/C,GACV,MAAKN,KAAL,CAAWd,SAAX,CAAqBqB,MAArB,CAA4B,UAAAC,IAAI,EAAE;AAChC,YAAIA,IAAI,CAACC,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiC,MAAKX,KAAL,CAAWK,OAAX,CAAmBK,WAAnB,EAAjC,CAAJ,EAAwE,OAAOF,IAAP,CAAxE,KACK,OAAO,KAAP;AACN,OAHD,CADU,GAINN,KAJN;AAKA;AAEA,UAAIU,IAAI,gBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,OAAO,EAAC,GAAZ;AAAgB,QAAA,SAAS,EAAC,2BAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAR,CAAtD,CADF,CADF;;AAMA,UAAIR,MAAM,CAACE,MAAP,GAAgB,CAApB,EAAuB;AACrBM,QAAAA,IAAI,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAI;AAAI,UAAA,OAAO,EAAC,GAAZ;AAAgB,UAAA,SAAS,EAAC,2BAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAsD,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAE,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAtD,CAAJ,CAAP;;AACA,YAAI,CAACT,SAAL,EAAgB;AACdS,UAAAA,IAAI,GAAGR,MAAM,CAACS,GAAP,CAAW,UAACL,IAAD,EAAOM,KAAP,EAAiB;AACjC,gCACE;AAAI,cAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BA,KAAK,GAAG,CAArC,CADF,eAEE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BN,IAAI,CAACC,IAAlC,CAFF,eAGE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BD,IAAI,CAACO,UAAlC,CAHF,eAIE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BP,IAAI,CAACQ,eAAlC,CAJF,eAKE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BR,IAAI,CAACS,UAAlC,CALF,eAME;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BT,IAAI,CAACU,SAAlC,CANF,eAOE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE,oBAAC,IAAD;AAAM,cAAA,EAAE,EAAE;AAAEC,gBAAAA,QAAQ,EAAE,aAAZ;AAA2BC,gBAAAA,EAAE,EAAEZ,IAAI,CAACY;AAApC,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAoD,oBAAC,MAAD;AAAQ,cAAA,IAAI,EAAC,IAAb;AAAkB,cAAA,KAAK,EAAC,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAApD,CADF,CAPF,eASE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA4B,oBAAC,MAAD;AAAQ,cAAA,IAAI,EAAC,IAAb;AAAkB,cAAA,KAAK,EAAC,QAAxB;AAAiC,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAKxB,YAAL,CAAkBY,IAAI,CAACY,EAAvB,CAAN;AAAA,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA5B,CATF,CADF;AAaD,WAdM,CAAP;AAeD;;AAAA;AACF;;AACD,aAAOR,IAAP;AACD,KApFkB;;AAEjB,UAAKZ,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE,KADI;AAEXsB,MAAAA,MAAM,EAAE,CAFG;AAGXhB,MAAAA,OAAO,EAAE,EAHE;AAIXnB,MAAAA,SAAS,EAAC;AAJC,KAAb;AAFiB;AAQlB;;;;wCAEmB;AAClB,WAAKN,OAAL;AACD;;;6BA0EQ;AAAA;AAAA;;AAAA,UACC0C,QADD,GACc,KAAK3C,KADnB,CACC2C,QADD;AAEP,0BACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,6BAEE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAE,KAAK3B,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CAFF,CADF,eAOE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAa,QAAA,EAAE,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,aAAjB;AAA+B,QAAA,IAAI,EAAC,MAApC;AAA2C,QAAA,EAAE,EAAC,cAA9C;AAA6D,QAAA,IAAI,EAAC,cAAlE;AAAiF,QAAA,KAAK,EAAE,KAAKK,KAAL,CAAWuB,MAAnG;AAA2G,QAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,iBAAM,MAAI,CAACvC,QAAL,CAAc;AAACoB,YAAAA,OAAO,EAAEmB,CAAC,CAACC,MAAF,CAASC;AAAnB,WAAd,CAAN;AAAA,SAArH;AAAqK,QAAA,WAAW,EAAC,aAAjL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,eAME,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,QAAQ,MAArB;AAAsB,QAAA,OAAO,MAA7B;AAA8B,QAAA,UAAU,MAAxC;AAAyC,QAAA,IAAI,EAAC,IAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJF,eAKE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANF,eAOE;AAAI,QAAA,SAAS,EAAC,aAAd;AAA4B,QAAA,OAAO,EAAC;AAApC,4DAAkD,aAAlD;AAAA;AAAA;AAAA;AAAA,0CAPF,CADF,CADF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKzB,iBAAL,EADH,CAZF,CANF,CAPF,eA+BE,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKD,KAAL,CAAWD,KAA1B;AAAiC,QAAA,MAAM,EAAE,KAAKJ,WAA9C;AAA2D,QAAA,SAAS,EAAE,eAAe,KAAKhB,KAAL,CAAWgD,SAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,WAAW,EAAE,KAAKhC,WAA7B;AAA0C,QAAA,QAAQ,EAAE2B,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,OAAO,EAAE,KAAK3B,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAJF,CA/BF,CADF;AA0CD;;;;EAnIqB7C,S;;AAsIxB,SAAS8E,eAAT,CAAyB5B,KAAzB,EAAgC;AAC9B,2BAAYA,KAAZ;AACD;;AAED,SAAS6B,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLjD,IAAAA,SAAS,EAAE;AAAA,aAAMiD,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEnE;AAAR,OAAD,CAAd;AAAA,KADN;AAELkB,IAAAA,aAAa,EAAE,uBAACkD,OAAD;AAAA,aAAaF,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAElE,cAAR;AAAwBmE,QAAAA,OAAO,EAAPA;AAAxB,OAAD,CAArB;AAAA,KAFV;AAGLV,IAAAA,QAAQ,EAAE,kBAACU,OAAD;AAAA,aAAaF,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEjE,SAAR;AAAmBkE,QAAAA,OAAO,EAAPA;AAAnB,OAAD,CAArB;AAAA;AAHL,GAAP;AAKD;;AAED,eAAe/D,OAAO,CAAC2D,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CnD,SAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  Spinner,\n  CardBody,\n  CardHeader,\n  Table,\n  ModalHeader, ModalBody, ModalFooter, Modal, Col, Label, Input, FormGroup\n} from 'reactstrap';\nimport {FETCH_DATA, FETCH_COMPLETE, SAVE_DATA, DETAIL_DATA, DELETE_DATA} from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport { getUsers, deleteUserById } from '../../services/UsersService';\nimport ModalUser from '../../component/ModalUser';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\n\nclass UserTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n      number: 0,\n      msearch: '',\n      tempUsers:[],\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  getData = () => {\n    const { fetchData, fetchComplete} = this.props;\n    fetchData()\n    getUsers()\n      .then(response => {\n        this.setState({tempUsers : response.data})\n        fetchComplete(response.data)\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  handleDetail = (itemId) => {\n    const { detailData } = this.props;\n    detailData(itemId)\n    this.toggleModal()\n  }\n\n  handleDelete = (itemId) => {\n    deleteUserById(itemId).then(response => {\n      if (response.message === \"Success\") {\n        alert(\"Delete Success\")\n        this.getData()\n      }else {\n        alert(\"Delete failed!\")\n      }\n    })\n  }\n\n  toggleModal = () => {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  generateTableRows = () => {\n    const { users, isLoading } = this.props;\n    let newArr= this.state.msearch&& this.state.msearch.length>0 ?\n      this.state.tempUsers.filter(user=>{\n        if (user.name.toLowerCase().includes(this.state.msearch.toLowerCase())) return user\n        else return false\n      }): users;\n    ;\n\n    let rows = (\n      <tr>\n        <td colSpan=\"7\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n      </tr>\n    );\n\n    if (newArr.length > 0) {\n      rows = <tr><td colSpan=\"6\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n      if (!isLoading) {\n        rows = newArr.map((user, index) => {\n          return (\n            <tr key={index}>\n              <td className=\"text-center\">{index + 1}</td>\n              <td className=\"text-center\">{user.name}</td>\n              <td className=\"text-center\">{user.birth_date}</td>\n              <td className=\"text-center\">{user.identity_number}</td>\n              <td className=\"text-center\">{user.profession}</td>\n              <td className=\"text-center\">{user.education}</td>\n              <td className=\"text-center\">\n                <Link to={{ pathname: \"/userdetail\", id: user.id }}><Button size='sm' color=\"secondary\">Detail</Button></Link></td>\n              <td className=\"text-center\"><Button size='sm' color=\"danger\" onClick={() => this.handleDelete(user.id)}>Delete</Button></td>\n            </tr>\n          )\n        });\n      };\n    }\n    return rows;\n  }\n\n  render() {\n    const { saveData } = this.props;\n    return (\n      <div className=\"animated fadeIn\">\n        <CardHeader>\n          <i className=\"icon-people\"></i> Data User\n          <div className=\"card-header-actions\">\n            <Button color=\"primary\" onClick={this.toggleModal}>Add User</Button>\n          </div>\n        </CardHeader>\n        <CardBody>\n          <FormGroup row>\n            <Col xs=\"12\" md=\"12\">\n              <Input className=\"text-center\" type=\"text\" id=\"search-input\" name=\"search-input\" value={this.state.seacrh} onChange={(e)=> this.setState({msearch: e.target.value})} placeholder=\"Search Data\"/>\n            </Col>\n          </FormGroup>\n          <Table hover bordered striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th className=\"text-center\">No.</th>\n                <th className=\"text-center\">Name</th>\n                <th className=\"text-center\">Birth Date</th>\n                <th className=\"text-center\">Identity Number</th>\n                <th className=\"text-center\">Profession</th>\n                <th className=\"text-center\">Education</th>\n                <th className=\"text-center\" colSpan='2' className=\"text-center\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTableRows()}\n            </tbody>\n          </Table>\n        </CardBody>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggleModal} className={'modal-info' + this.props.className}>\n          <ModalBody>\n            <ModalUser toggleModal={this.toggleModal} saveData={saveData}/>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModal}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { ...state };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    saveData: (payload) => dispatch({ type: SAVE_DATA, payload}),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserTable);\n"]},"metadata":{},"sourceType":"module"}