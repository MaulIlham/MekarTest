{"ast":null,"code":"import _objectSpread from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/wallets/WalletHistoryTable.js\";\nimport React, { Component } from 'react';\nimport { Button, Spinner, CardBody, CardHeader, Pagination, PaginationItem, PaginationLink, Table, ModalHeader, ModalBody, ModalFooter, Modal } from 'reactstrap';\nimport { DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE, DELETE_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux';\nimport ModalWallet from \"../../component/ModalWallet\";\nimport { getAllWalletHistory, deleteDataWalletHistory } from '../../services/WalletsService';\nimport PageComponent from '../../component/PageComponent';\n\nvar WalletHistoryTable = /*#__PURE__*/function (_Component) {\n  _inherits(WalletHistoryTable, _Component);\n\n  var _super = _createSuper(WalletHistoryTable);\n\n  function WalletHistoryTable(props) {\n    var _this;\n\n    _classCallCheck(this, WalletHistoryTable);\n\n    _this = _super.call(this, props);\n\n    _this.getData = function (page) {\n      var _this$props = _this.props,\n          fetchData = _this$props.fetchData,\n          fetchComplete = _this$props.fetchComplete,\n          setTotalPages = _this$props.setTotalPages;\n      fetchData();\n      getAllWalletHistory(page).then(function (response) {\n        setTotalPages(response.data.totalPages);\n        fetchComplete(response.data.content);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.handleDetail = function (historyId) {\n      var detailData = _this.props.detailData;\n\n      _this.toggleModal();\n\n      detailData(historyId);\n    };\n\n    _this.handleDelete = function (historyId) {\n      var deleteData = _this.props.deleteData;\n      deleteDataWalletHistory(historyId).then(function (response) {\n        console.log(response);\n        deleteData(historyId);\n      });\n    };\n\n    _this.generateTableRows = function () {\n      var _this$props2 = _this.props,\n          walletHistories = _this$props2.walletHistories,\n          isLoading = _this$props2.isLoading;\n      var rows = /*#__PURE__*/React.createElement(\"tr\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"6\",\n        className: \"table-warning text-center\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 63\n        }\n      }, /*#__PURE__*/React.createElement(\"em\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 71\n        }\n      }, \"Data Still Empty\"))));\n\n      if (walletHistories.length > 0) {\n        rows = /*#__PURE__*/React.createElement(\"tr\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          colSpan: \"6\",\n          className: \"table-warning text-center\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 18\n          }\n        }, /*#__PURE__*/React.createElement(Spinner, {\n          color: \"danger\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 72\n          }\n        })));\n\n        if (!isLoading) {\n          rows = walletHistories.map(function (history, index) {\n            return /*#__PURE__*/React.createElement(\"tr\", {\n              key: index,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 13\n              }\n            }, /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 15\n              }\n            }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 15\n              }\n            }, history.wallet.owner.username), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 15\n              }\n            }, history.amount), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 15\n              }\n            }, history.txrDate), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 15\n              }\n            }, history.type), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"text-center\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(Button, {\n              color: \"danger\",\n              onClick: function onClick() {\n                return _this.handleDelete(history.id);\n              },\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 43\n              }\n            }, \"Delete\")));\n          });\n        }\n\n        ;\n      }\n\n      return rows;\n    };\n\n    _this.state = {\n      modal: false\n    };\n    return _this;\n  }\n\n  _createClass(WalletHistoryTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData(0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          form = _this$props3.form,\n          totalPages = _this$props3.totalPages;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-align-justify\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }), \" Data Wallet Histories\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        hover: true,\n        bordered: true,\n        striped: true,\n        responsive: true,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, \"No.\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, \"Amount\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, \"Date Transaction\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, \"Type Transaction\"), /*#__PURE__*/React.createElement(\"th\", {\n        colSpan: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, this.generateTableRows())), /*#__PURE__*/React.createElement(PageComponent, {\n        totalPages: totalPages,\n        getData: this.getData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggleModal,\n        className: 'modal-info' + this.props.className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 50\n        }\n      }, \"Detail Wallet History\")), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ModalWallet, {\n        form: form,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(ModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return WalletHistoryTable;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return _objectSpread({}, state);\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    detailData: function detailData(payload) {\n      return dispatch({\n        type: DETAIL_DATA,\n        payload: payload\n      });\n    },\n    deleteData: function deleteData(payload) {\n      return dispatch({\n        type: DELETE_DATA,\n        payload: payload\n      });\n    },\n    fetchData: function fetchData() {\n      return dispatch({\n        type: FETCH_DATA\n      });\n    },\n    fetchComplete: function fetchComplete(payload) {\n      return dispatch({\n        type: FETCH_COMPLETE,\n        payload: payload\n      });\n    },\n    setTotalPages: function setTotalPages(payload) {\n      return dispatch({\n        type: SET_TOTAL_PAGES,\n        payload: payload\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletHistoryTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/wallets/WalletHistoryTable.js"],"names":["React","Component","Button","Spinner","CardBody","CardHeader","Pagination","PaginationItem","PaginationLink","Table","ModalHeader","ModalBody","ModalFooter","Modal","DETAIL_DATA","FETCH_DATA","FETCH_COMPLETE","DELETE_DATA","SET_TOTAL_PAGES","connect","ModalWallet","getAllWalletHistory","deleteDataWalletHistory","PageComponent","WalletHistoryTable","props","getData","page","fetchData","fetchComplete","setTotalPages","then","response","data","totalPages","content","catch","err","console","log","handleDetail","historyId","detailData","toggleModal","handleDelete","deleteData","generateTableRows","walletHistories","isLoading","rows","length","map","history","index","wallet","owner","username","amount","txrDate","type","id","state","modal","form","className","mapStateToProps","mapDispatchToProps","dispatch","payload"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,MADF,EAEEC,OAFF,EAGEC,QAHF,EAIEC,UAJF,EAKEC,UALF,EAMEC,cANF,EAOEC,cAPF,EAQEC,KARF,EASEC,WATF,EASeC,SATf,EAS0BC,WAT1B,EASuCC,KATvC,QAUO,YAVP;AAWA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,cAAlC,EAAkDC,WAAlD,EAA+DC,eAA/D,QAAsF,sBAAtF;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,SAASC,mBAAT,EAA8BC,uBAA9B,QAA6D,+BAA7D;AACA,OAAOC,aAAP,MAA0B,+BAA1B;;IAGMC,kB;;;;;AACJ,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAWnBC,OAXmB,GAWT,UAACC,IAAD,EAAU;AAAA,wBACkC,MAAKF,KADvC;AAAA,UACVG,SADU,eACVA,SADU;AAAA,UACCC,aADD,eACCA,aADD;AAAA,UACgBC,aADhB,eACgBA,aADhB;AAElBF,MAAAA,SAAS;AACTP,MAAAA,mBAAmB,CAACM,IAAD,CAAnB,CAA0BI,IAA1B,CAA+B,UAACC,QAAD,EAAc;AAC3CF,QAAAA,aAAa,CAACE,QAAQ,CAACC,IAAT,CAAcC,UAAf,CAAb;AACAL,QAAAA,aAAa,CAACG,QAAQ,CAACC,IAAT,CAAcE,OAAf,CAAb;AACD,OAHD,EAIGC,KAJH,CAIS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OANH;AAOD,KArBkB;;AAAA,UAuBnBG,YAvBmB,GAuBJ,UAACC,SAAD,EAAe;AAAA,UACpBC,UADoB,GACL,MAAKjB,KADA,CACpBiB,UADoB;;AAE5B,YAAKC,WAAL;;AACAD,MAAAA,UAAU,CAACD,SAAD,CAAV;AACD,KA3BkB;;AAAA,UA6BnBG,YA7BmB,GA6BJ,UAACH,SAAD,EAAe;AAAA,UACpBI,UADoB,GACL,MAAKpB,KADA,CACpBoB,UADoB;AAE5BvB,MAAAA,uBAAuB,CAACmB,SAAD,CAAvB,CAAmCV,IAAnC,CAAwC,UAACC,QAAD,EAAc;AACpDM,QAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACAa,QAAAA,UAAU,CAACJ,SAAD,CAAV;AACD,OAHD;AAID,KAnCkB;;AAAA,UAqCnBK,iBArCmB,GAqCC,YAAM;AAAA,yBACe,MAAKrB,KADpB;AAAA,UAChBsB,eADgB,gBAChBA,eADgB;AAAA,UACCC,SADD,gBACCA,SADD;AAGxB,UAAIC,IAAI,gBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,OAAO,EAAC,GAAZ;AAAgB,QAAA,SAAS,EAAC,2BAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAR,CAAtD,CADF,CADF;;AAMA,UAAIF,eAAe,CAACG,MAAhB,GAAyB,CAA7B,EAAgC;AAC9BD,QAAAA,IAAI,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAI;AAAI,UAAA,OAAO,EAAC,GAAZ;AAAgB,UAAA,SAAS,EAAC,2BAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAsD,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAE,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAtD,CAAJ,CAAP;;AACA,YAAI,CAACD,SAAL,EAAgB;AACdC,UAAAA,IAAI,GAAGF,eAAe,CAACI,GAAhB,CAAoB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AAC7C,gCACE;AAAI,cAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BA,KAAK,GAAG,CAArC,CADF,eAEE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BD,OAAO,CAACE,MAAR,CAAeC,KAAf,CAAqBC,QAAlD,CAFF,eAGE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BJ,OAAO,CAACK,MAArC,CAHF,eAIE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BL,OAAO,CAACM,OAArC,CAJF,eAKE;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA6BN,OAAO,CAACO,IAArC,CALF,eAME;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA4B,oBAAC,MAAD;AAAQ,cAAA,KAAK,EAAC,QAAd;AAAuB,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAKf,YAAL,CAAkBQ,OAAO,CAACQ,EAA1B,CAAN;AAAA,eAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA5B,CANF,CADF;AAUD,WAXM,CAAP;AAYD;;AAAA;AACF;;AACD,aAAOX,IAAP;AACD,KAhEkB;;AAEjB,UAAKY,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAFiB;AAKlB;;;;wCAEmB;AAClB,WAAKpC,OAAL,CAAa,CAAb;AACD;;;6BAyDQ;AAAA,yBACsB,KAAKD,KAD3B;AAAA,UACCsC,IADD,gBACCA,IADD;AAAA,UACO7B,UADP,gBACOA,UADP;AAGP,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,2BADF,eAIE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,QAAQ,MAArB;AAAsB,QAAA,OAAO,MAA7B;AAA8B,QAAA,UAAU,MAAxC;AAAyC,QAAA,IAAI,EAAC,IAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BALF,eAME;AAAI,QAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,CADF,CADF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKY,iBAAL,EADH,CAXF,CADF,eAgBE,oBAAC,aAAD;AAAe,QAAA,UAAU,EAAEZ,UAA3B;AAAuC,QAAA,OAAO,EAAE,KAAKR,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBF,CAJF,eAuBE,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKmC,KAAL,CAAWC,KAA1B;AAAiC,QAAA,MAAM,EAAE,KAAKnB,WAA9C;AAA2D,QAAA,SAAS,EAAE,eAAe,KAAKlB,KAAL,CAAWuC,SAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAKrB,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAvC,CADF,eAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAa,QAAA,IAAI,EAAEoB,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,eAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,OAAO,EAAE,KAAKpB,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CALF,CAvBF,CADF;AAmCD;;;;EAzG8B1C,S;;AA6GjC,SAASgE,eAAT,CAAyBJ,KAAzB,EAAgC;AAC9B,2BAAYA,KAAZ;AACD;;AAED,SAASK,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLzB,IAAAA,UAAU,EAAE,oBAAC0B,OAAD;AAAA,aAAaD,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE7C,WAAR;AAAqBsD,QAAAA,OAAO,EAAPA;AAArB,OAAD,CAArB;AAAA,KADP;AAELvB,IAAAA,UAAU,EAAE,oBAACuB,OAAD;AAAA,aAAaD,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE1C,WAAR;AAAqBmD,QAAAA,OAAO,EAAPA;AAArB,OAAD,CAArB;AAAA,KAFP;AAGLxC,IAAAA,SAAS,EAAE;AAAA,aAAMuC,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE5C;AAAR,OAAD,CAAd;AAAA,KAHN;AAILc,IAAAA,aAAa,EAAE,uBAACuC,OAAD;AAAA,aAAaD,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE3C,cAAR;AAAwBoD,QAAAA,OAAO,EAAPA;AAAxB,OAAD,CAArB;AAAA,KAJV;AAKLtC,IAAAA,aAAa,EAAE,uBAACsC,OAAD;AAAA,aAAaD,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAEzC,eAAR;AAAyBkD,QAAAA,OAAO,EAAPA;AAAzB,OAAD,CAArB;AAAA;AALV,GAAP;AAOD;;AAED,eAAejD,OAAO,CAAC8C,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C1C,kBAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  Spinner,\n  CardBody,\n  CardHeader,\n  Pagination,\n  PaginationItem,\n  PaginationLink,\n  Table,\n  ModalHeader, ModalBody, ModalFooter, Modal\n} from 'reactstrap';\nimport { DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE, DELETE_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport ModalWallet from \"../../component/ModalWallet\";\nimport { getAllWalletHistory, deleteDataWalletHistory } from '../../services/WalletsService';\nimport PageComponent from '../../component/PageComponent';\n\n\nclass WalletHistoryTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getData(0);\n  }\n\n  getData = (page) => {\n    const { fetchData, fetchComplete, setTotalPages } = this.props;\n    fetchData();\n    getAllWalletHistory(page).then((response) => {\n      setTotalPages(response.data.totalPages)\n      fetchComplete(response.data.content)\n    })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  handleDetail = (historyId) => {\n    const { detailData } = this.props;\n    this.toggleModal();\n    detailData(historyId);\n  }\n\n  handleDelete = (historyId) => {\n    const { deleteData } = this.props;\n    deleteDataWalletHistory(historyId).then((response) => {\n      console.log(response);\n      deleteData(historyId);\n    })\n  }\n\n  generateTableRows = () => {\n    const { walletHistories, isLoading } = this.props;\n\n    let rows = (\n      <tr>\n        <td colSpan=\"6\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n      </tr>\n    );\n\n    if (walletHistories.length > 0) {\n      rows = <tr><td colSpan=\"6\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n      if (!isLoading) {\n        rows = walletHistories.map((history, index) => {\n          return (\n            <tr key={index}>\n              <td className=\"text-center\">{index + 1}</td>\n              <td className=\"text-center\">{history.wallet.owner.username}</td>\n              <td className=\"text-center\">{history.amount}</td>\n              <td className=\"text-center\">{history.txrDate}</td>\n              <td className=\"text-center\">{history.type}</td>\n              <td className=\"text-center\"><Button color=\"danger\" onClick={() => this.handleDelete(history.id)}>Delete</Button></td>\n            </tr>\n          )\n        });\n      };\n    }\n    return rows;\n  }\n\n  render() {\n    const { form, totalPages } = this.props;\n\n    return (\n      <div>\n        <CardHeader>\n          <i className=\"fa fa-align-justify\"></i> Data Wallet Histories\n        </CardHeader>\n        <CardBody>\n          <Table hover bordered striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th>No.</th>\n                <th>Name</th>\n                <th>Amount</th>\n                <th>Date Transaction</th>\n                <th>Type Transaction</th>\n                <th colSpan=\"2\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTableRows()}\n            </tbody>\n          </Table>\n          <PageComponent totalPages={totalPages} getData={this.getData} />\n        </CardBody>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggleModal} className={'modal-info' + this.props.className}>\n          <ModalHeader toggle={this.toggleModal}><strong>Detail Wallet History</strong></ModalHeader>\n          <ModalBody>\n            <ModalWallet form={form} />\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModal}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return { ...state }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    detailData: (payload) => dispatch({ type: DETAIL_DATA, payload }),\n    deleteData: (payload) => dispatch({ type: DELETE_DATA, payload }),\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    setTotalPages: (payload) => dispatch({ type: SET_TOTAL_PAGES, payload }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletHistoryTable);\n"]},"metadata":{},"sourceType":"module"}