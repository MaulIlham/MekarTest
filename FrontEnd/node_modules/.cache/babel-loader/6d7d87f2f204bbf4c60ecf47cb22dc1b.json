{"ast":null,"code":"import _objectSpread from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Spinner,CardBody,CardHeader,Table,ModalHeader,ModalBody,ModalFooter,Modal}from'reactstrap';import{DETAIL_DATA,FETCH_DATA,FETCH_COMPLETE,DELETE_DATA,SET_TOTAL_PAGES}from\"../../reducer/Action\";import{connect}from'react-redux';import ModalRoom from\"../../component/ModalRoom\";import{getRooms}from'../../services/RoomsService';import PageComponent from'../../component/PageComponent';import{BrowserRouter as Router,Route,Link,Redirect}from\"react-router-dom\";var RoomTable=/*#__PURE__*/function(_Component){_inherits(RoomTable,_Component);var _super=_createSuper(RoomTable);function RoomTable(props){var _this;_classCallCheck(this,RoomTable);_this=_super.call(this,props);_this.getData=function(i){var _this$props=_this.props,fetchData=_this$props.fetchData,fetchComplete=_this$props.fetchComplete,setTotalPages=_this$props.setTotalPages;fetchData();getRooms(i).then(function(data){setTotalPages(data.totalPages);fetchComplete(data.content);console.log(data.content);}).catch(function(err){console.log(err);});};_this.handleDetail=function(itemId){var detailData=_this.props.detailData;detailData(itemId);};_this.handleDelete=function(itemId){var deleteData=_this.props.deleteData;};_this.generateTableRows=function(){var _this$props2=_this.props,rooms=_this$props2.rooms,isLoading=_this$props2.isLoading;var rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"9\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"em\",null,\"Data Still Empty\"))));if(rooms.length>0){rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"9\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(Spinner,{color:\"danger\"})));if(!isLoading){rows=rooms.map(function(room,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},index+1),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},room.name),/*#__PURE__*/React.createElement(\"td\",null,room.address),/*#__PURE__*/React.createElement(\"td\",null,room.item.title),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},room.user.username),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},room.status),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/roomdetail\",room:room}},/*#__PURE__*/React.createElement(Button,{size:\"sm\",color:\"primary\",onClick:function onClick(){return _this.handleDetail(room.id);}},\"Detail\")),/*#__PURE__*/React.createElement(Button,{className:\"float-right\",size:\"sm\",color:\"danger\",onClick:function onClick(){return _this.handleDelete(room.id);}},\"Delete\")));});};}return rows;};_this.state={modal:false};return _this;}_createClass(RoomTable,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData(0);}},{key:\"goToDetail\",value:function goToDetail(){var form=this.props.form;return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/room/detail',state:{data:form}}});}},{key:\"render\",value:function render(){var _this$props3=this.props,form=_this$props3.form,totalPages=_this$props3.totalPages;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-align-justify\"}),\" Data Room\"),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Table,{hover:true,bordered:true,striped:true,responsive:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"No.\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Room Number\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Address\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Item\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Auctioneer\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Status\"),/*#__PURE__*/React.createElement(\"th\",_defineProperty({className:\"text-center\",colSpan:\"2\"},\"className\",\"text-center\"),\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.generateTableRows())),/*#__PURE__*/React.createElement(PageComponent,{totalPages:totalPages,getData:this.getData})));}}]);return RoomTable;}(Component);function mapStateToProps(state){return _objectSpread({},state);}function mapDispatchToProps(dispatch){return{detailData:function detailData(payload){return dispatch({type:DETAIL_DATA,payload:payload});},deleteData:function deleteData(payload){return dispatch({type:DELETE_DATA,payload:payload});},fetchData:function fetchData(){return dispatch({type:FETCH_DATA});},fetchComplete:function fetchComplete(payload){return dispatch({type:FETCH_COMPLETE,payload:payload});},setTotalPages:function setTotalPages(payload){return dispatch({type:SET_TOTAL_PAGES,payload:payload});}};}export default connect(mapStateToProps,mapDispatchToProps)(RoomTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/rooms/RoomTable.js"],"names":["React","Component","Button","Spinner","CardBody","CardHeader","Table","ModalHeader","ModalBody","ModalFooter","Modal","DETAIL_DATA","FETCH_DATA","FETCH_COMPLETE","DELETE_DATA","SET_TOTAL_PAGES","connect","ModalRoom","getRooms","PageComponent","BrowserRouter","Router","Route","Link","Redirect","RoomTable","props","getData","i","fetchData","fetchComplete","setTotalPages","then","data","totalPages","content","console","log","catch","err","handleDetail","itemId","detailData","handleDelete","deleteData","generateTableRows","rooms","isLoading","rows","length","map","room","index","name","address","item","title","user","username","status","pathname","id","state","modal","form","mapStateToProps","mapDispatchToProps","dispatch","payload","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  Spinner,\n  CardBody,\n  CardHeader,\n  Table,\n  ModalHeader, ModalBody, ModalFooter, Modal\n} from 'reactstrap';\nimport { DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE, DELETE_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport ModalRoom from \"../../component/ModalRoom\";\nimport { getRooms } from '../../services/RoomsService';\nimport PageComponent from '../../component/PageComponent';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\n\nclass RoomTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getData(0)\n  }\n\n  getData = (i) => {\n    const { fetchData, fetchComplete, setTotalPages } = this.props;\n    fetchData()\n    getRooms(i)\n      .then(data => {\n        setTotalPages(data.totalPages)\n        fetchComplete(data.content)\n        console.log(data.content);\n\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  goToDetail() {\n    const { form } = this.props;\n    return <Redirect to={{\n      pathname: '/room/detail',\n      state: { data: form }\n    }}\n    />\n  }\n\n  handleDetail = (itemId) => {\n    const { detailData } = this.props;\n    detailData(itemId)\n  }\n\n  handleDelete = (itemId) => {\n    const { deleteData } = this.props;\n  }\n\n\n  generateTableRows = () => {\n    const { rooms, isLoading } = this.props;\n\n    let rows = (\n      <tr>\n        <td colSpan=\"9\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n      </tr>\n    );\n\n    if (rooms.length > 0) {\n      rows = <tr><td colSpan=\"9\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n      if (!isLoading) {\n        rows = rooms.map((room, index) => {\n          return (\n            <tr key={index}>\n              <td className=\"text-center\">{index + 1}</td>\n              <td className=\"text-center\">{room.name}</td>\n              <td>{room.address}</td>\n              <td>{room.item.title}</td>\n              <td className=\"text-center\">{room.user.username}</td>\n              <td className=\"text-center\">{room.status}</td>\n              <td className=\"text-center\">\n                <Link to={{ pathname: \"/roomdetail\", room: room }}><Button size='sm' color=\"primary\" onClick={() => this.handleDetail(room.id)}>Detail</Button></Link>\n                <Button className=\"float-right\" size='sm' color=\"danger\" onClick={() => this.handleDelete(room.id)}>Delete</Button>\n              </td>\n            </tr>\n          )\n        });\n      };\n    }\n    return rows;\n  }\n\n  render() {\n    const { form, totalPages } = this.props;\n    return (\n      <div>\n        <CardHeader>\n          <i className=\"fa fa-align-justify\"></i> Data Room\n        </CardHeader>\n        <CardBody>\n          <Table hover bordered striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th className=\"text-center\">No.</th>\n                <th className=\"text-center\">Room Number</th>\n                <th className=\"text-center\">Address</th>\n                <th className=\"text-center\">Item</th>\n                <th className=\"text-center\">Auctioneer</th>\n                <th className=\"text-center\">Status</th>\n                <th className=\"text-center\" colSpan='2' className='text-center' >Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTableRows()}\n            </tbody>\n          </Table>\n          <PageComponent totalPages={totalPages} getData={this.getData} />\n        </CardBody>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { ...state };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    detailData: (payload) => dispatch({ type: DETAIL_DATA, payload }),\n    deleteData: (payload) => dispatch({ type: DELETE_DATA, payload }),\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    setTotalPages: (payload) => dispatch({ type: SET_TOTAL_PAGES, payload }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomTable);\n"]},"metadata":{},"sourceType":"module"}