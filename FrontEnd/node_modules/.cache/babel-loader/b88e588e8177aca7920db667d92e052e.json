{"ast":null,"code":"import _objectSpread from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Spinner,Card,CardBody,CardHeader,Col,Pagination,PaginationItem,PaginationLink,Row,Table}from'reactstrap';import{EDIT_DATA,DETAIL_DATA,FETCH_DATA,FETCH_COMPLETE,DELETE_DATA,SET_TOTAL_PAGES}from\"../../reducer/Action\";import{connect}from'react-redux';import{getCategories,deleteCategory}from'../../services/CategoriesService';import PageComponent from'../../component/PageComponent';var CategoryTable=/*#__PURE__*/function(_Component){_inherits(CategoryTable,_Component);var _super=_createSuper(CategoryTable);function CategoryTable(props){var _this;_classCallCheck(this,CategoryTable);_this=_super.call(this,props);_this.getData=function(i){var _this$props=_this.props,fetchComplete=_this$props.fetchComplete,fetchData=_this$props.fetchData,setTotalPages=_this$props.setTotalPages;fetchData();getCategories(i).then(function(data){fetchComplete(data.content);setTotalPages(data.totalPages);}).catch(function(err){console.log(err);});};_this.handleDetail=function(categoryId){var detailData=_this.props.detailData;};_this.handleDelete=function(categoryId){var deleteData=_this.props.deleteData;deleteCategory(categoryId).then(function(response){if(response)_this.getData(0);});};_this.toggleModal=function(){_this.setState({modal:!_this.state.modal});};_this.generateTableRows=function(){var categories=_this.props.categories;var rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"3\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"em\",null,\"Data Still Empty\"))));if(categories.length>0){rows=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"2\",className:\"table-warning text-center\"},/*#__PURE__*/React.createElement(Spinner,{color:\"danger\"})));if(!_this.props.isLoading){rows=categories.map(function(category,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},index+1),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},category.name),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",color:\"danger\",className:\"shadow\",onClick:function onClick(){return _this.handleDelete(category.id);}},\"Delete\")));});};}return rows;};_this.state={modal:false};return _this;}_createClass(CategoryTable,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData(0);}},{key:\"render\",value:function render(){var _this$props2=this.props,form=_this$props2.form,totalPages=_this$props2.totalPages;return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Table,{hover:true,bordered:true,striped:true,responsive:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"No.\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Name\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.generateTableRows())),/*#__PURE__*/React.createElement(PageComponent,{totalPages:totalPages,getData:this.getData})));}}]);return CategoryTable;}(Component);function mapStateToProps(state){return _objectSpread({},state);}function mapDispatchToProps(dispatch){return{detailData:function detailData(payload){return dispatch({type:DETAIL_DATA,payload:payload});},deleteData:function deleteData(payload){return dispatch({type:DELETE_DATA,payload:payload});},fetchData:function fetchData(){return dispatch({type:FETCH_DATA});},fetchComplete:function fetchComplete(payload){return dispatch({type:FETCH_COMPLETE,payload:payload});},setTotalPages:function setTotalPages(payload){return dispatch({type:SET_TOTAL_PAGES,payload:payload});}};}export default connect(mapStateToProps,mapDispatchToProps)(CategoryTable);","map":{"version":3,"sources":["/home/enigmacamp/Materi/MateriPascal/Tugas Akhir/asd/final-project/FrontEnd/Web/LelangAja/src/views/categories/CategoryTable.js"],"names":["React","Component","Button","Spinner","Card","CardBody","CardHeader","Col","Pagination","PaginationItem","PaginationLink","Row","Table","EDIT_DATA","DETAIL_DATA","FETCH_DATA","FETCH_COMPLETE","DELETE_DATA","SET_TOTAL_PAGES","connect","getCategories","deleteCategory","PageComponent","CategoryTable","props","getData","i","fetchComplete","fetchData","setTotalPages","then","data","content","totalPages","catch","err","console","log","handleDetail","categoryId","detailData","handleDelete","deleteData","response","toggleModal","setState","modal","state","generateTableRows","categories","rows","length","isLoading","map","category","index","name","id","form","mapStateToProps","mapDispatchToProps","dispatch","payload","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Spinner, Card, CardBody, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table } from 'reactstrap';\nimport { EDIT_DATA, DETAIL_DATA, FETCH_DATA, FETCH_COMPLETE, DELETE_DATA, SET_TOTAL_PAGES } from \"../../reducer/Action\";\nimport { connect } from 'react-redux'\nimport { getCategories, deleteCategory } from '../../services/CategoriesService';\nimport PageComponent from '../../component/PageComponent';\n\nclass CategoryTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getData(0)\n  }\n\n  getData = (i) => {\n    const { fetchComplete, fetchData, setTotalPages } = this.props;\n    fetchData()\n    getCategories(i)\n      .then(data => {\n        fetchComplete(data.content)\n        setTotalPages(data.totalPages)\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  handleDetail = (categoryId) => {\n    const { detailData } = this.props;\n  }\n\n  handleDelete = (categoryId) => {\n    const { deleteData } = this.props;\n    deleteCategory(categoryId)\n      .then(response => {\n        if (response) this.getData(0)\n      })\n  }\n\n  toggleModal = () => {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  generateTableRows = () => {\n    const { categories } = this.props;\n\n    let rows = (\n      <tr>\n        <td colSpan=\"3\" className=\"table-warning text-center\"><strong><em>Data Still Empty</em></strong></td>\n      </tr>\n    );\n\n    if (categories.length > 0) {\n      rows = <tr><td colSpan=\"2\" className=\"table-warning text-center\"><Spinner color={\"danger\"}></Spinner></td></tr>\n      if (!this.props.isLoading) {\n        rows = categories.map((category, index) => {\n          return (\n            <tr key={index}>\n              <td className=\"text-center\">{index + 1}</td>\n              <td className=\"text-center\">{category.name}</td>\n              <td className=\"text-center\"><Button type=\"button\" color=\"danger\" className=\"shadow\" onClick={() => this.handleDelete(category.id)}>Delete</Button></td>\n            </tr>\n          )\n        });\n      };\n    }\n    return rows;\n  }\n\n  render() {\n    const { form, totalPages } = this.props\n    return (\n      <div className=\"animated fadeIn\">\n        <CardBody>\n          <Table hover bordered striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th className=\"text-center\">No.</th>\n                <th className=\"text-center\">Name</th>\n                <th className='text-center'>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTableRows()}\n            </tbody>\n          </Table>\n          <PageComponent totalPages={totalPages} getData={this.getData} />\n        </CardBody>\n      </div>\n\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { ...state };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    detailData: (payload) => dispatch({ type: DETAIL_DATA, payload }),\n    deleteData: (payload) => dispatch({ type: DELETE_DATA, payload }),\n    fetchData: () => dispatch({ type: FETCH_DATA }),\n    fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n    setTotalPages: (payload) => dispatch({ type: SET_TOTAL_PAGES, payload }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryTable);\n"]},"metadata":{},"sourceType":"module"}